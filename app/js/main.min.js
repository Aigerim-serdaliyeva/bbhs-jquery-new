function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkInput(e){return!(!e.val()||"email"==e.attr("type")&&!validateEmail(e.val()))&&(e.removeClass("error"),!0)}function parseGET(e){var t=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];if(e&&""!=e||(e=decodeURI(document.location.search)),e.indexOf("?")<0)return Array();var s={},n=[],i=[];-1!=(e=(e=e.split("?"))[1]).indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),e.indexOf("&")>-1?n=e.split("&"):n[0]=e;for(var a=0;a<n.length;a++)for(var r=0;r<t.length;r++)n[a].indexOf(t[r]+"=")>-1&&n[a].indexOf("=")>-1&&(s[(i=n[a].split("="))[0]]=i[1]);return s}$(document).ready(function(){var e=$(window),t=$(".page-top"),s=$("html, body"),n=$(".header"),i=$(".main-menu"),a=60;$(".header-burger");const r=$(".burger-menu");var o=parseGET();function l(){n.removeClass("header--opened"),r.removeClass("burger-menu--active")}o&&Object.keys(o).length>0?window.sessionStorage.setItem("utms",JSON.stringify(o)):o=JSON.parse(window.sessionStorage.getItem("utms")||"[]"),e.width()<992&&(a=60),$(".burger-menu__btn").click(function(e){e.preventDefault(),r.hasClass("burger-menu--active")?l():(n.addClass("header--opened"),r.addClass("burger-menu--active"))}),$(".burger-menu__overlay").click(function(){l()}),$(".burger-menu__close").click(function(){l()}),$(".burger-menu").click(function(){$(this).closest(".header-burger").removeClass("burger-menu--scrolled")}),$(".work").click(function(){$(this).find(".work__block").toggleClass("flex"),$(this).find(".work__img__content").stop()}),e.width()>479&&$("input[type=tel]").mask("+7 (999) 999 99 99",{completed:function(){$(this).removeClass("error")}}),e.scroll(function(){c()});var c=function(){e.scrollTop()>e.height()?t.addClass("active"):t.removeClass("active"),e.scrollTop()>0?n.addClass("header--scrolled"):n.removeClass("header--scrolled");var s=e.scrollTop()+a;i.find(".link").each(function(){var e=$(this),t=e.find("a").attr("href");if(t.length>1&&"#"==t.charAt(0)&&$(t).length>0){var n=$(t),i=n.offset().top;i<=s&&i+n.height()>=s?e.addClass("active"):e.removeClass("active")}})};function u(){$this=$hamburger,$this.hasClass("is-active")?($this.removeClass("is-active"),i.slideUp("700")):($this.addClass("is-active"),i.slideDown("700"))}c(),$(".main-menu .link a").click(function(t){var n=$(this).attr("href");if(n.length>1&&"#"==n.charAt(0)&&$(n).length>0){t.preventDefault();var i=$(n).offset().top-a;s.stop().animate({scrollTop:i},"slow","swing")}e.width()<=991&&u()}),t.click(function(){s.stop().animate({scrollTop:0},"slow","swing")}),$("input:required, textarea:required").keyup(function(){var e=$(this);"tel"!=e.attr("type")&&checkInput(e)}),$hamburger.click(function(){return u(),!1}),$(document).on("closing",".remodal",function(e){$(this).find(".input, .textarea").removeClass("error");var t=$(this).find("form");t.length>0&&t[0].reset()}),$(".ajax-submit").click(function(e){var t=$(this).closest("form"),s=t.find(":required"),n=!0;if(s.each(function(){$elem=$(this),$elem.val()&&checkInput($elem)||($elem.addClass("error"),n=!1)}),n)for(var i in 0===Object.keys(o).length&&(o.utm="Прямой переход"),o){var a=document.createElement("input");a.type="hidden",a.name=i,a.value=o[i],t[0].appendChild(a)}else e.preventDefault()}),$(".tab__link").click(function(){var e=$(this).closest(".tab"),t=$(this).data("id");e.find(".tab__link").removeClass("active"),$(this).addClass("active"),e.find(".tab__content").removeClass("active").filter("[data-tab="+t+"]").addClass("active"),"tab2"===t||"tab3"===t?e.find(".tab__links--min").addClass("d-none"):"tab1"===t&&(e.find(".tab__links--min").removeClass("d-none"),e.find(".tab__link--1").addClass("active"))});const d=function(){const e=$(".thumbs-carousel").find(".slick-active.slick-current").attr("data-img");$(".gallery").css({"background-image":`url('./img/gallery/${e}')`})};$(".thumbs-carousel").on("init",function(){d()}),$(".thumbs-carousel").on("afterChange",function(){d()}),$(".thumbs-carousel").on("click",".slick-slide",function(){const e=$(this).data("img");$(".gallery").css({"background-image":`url('./img/gallery/${e}')`})}),$(".thumbs-carousel").slick({prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',infinite:!0,slidesToShow:3,slidesToScroll:1,centerMode:!0,draggable:!1,centerPadding:"0px",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:580,settings:{slidesToShow:1}}]}),$(".stages-carousel").slick({prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',slidesToShow:3,slidesToScroll:1,centerMode:!0,draggable:!1,asNavFor:".stages-info",centerPadding:"0px",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:580,settings:{slidesToShow:1}}]}),$(".stages-info").slick({arrows:!1,slidesToShow:1,slidesToScroll:1})});